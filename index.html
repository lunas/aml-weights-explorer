<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>D3 Test</title>

  <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
  <script type="text/javascript" src="bower_components/jquery-ui/ui/jquery-ui.js"></script>
  <script type="text/javascript" src="bower_components/d3/d3.js"></script>
  <script type="text/javascript" src="lib/mootools.js"></script>
  <script type="text/javascript" src="lib/BVTouchable.js"></script>
  <script type="text/javascript" src="lib/Tangle.js"></script>
  <script type="text/javascript" src="lib/TangleKit.js"></script>
  <script type="text/javascript" src="lib/sprintf.js"></script>
  <script type="text/javascript" src="data/aml-public.js"></script>
  <script type="text/javascript" src="weights.js"></script>

  <link type="text/css" href="bower_components/jquery-ui/themes/smoothness/jquery-ui.css" rel="stylesheet">
  <link type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
  <link type="text/css" href="css/TangleKit.css" rel="stylesheet">
  <link type="text/css" href="css/weights.css" rel="stylesheet">

</head>
<body>

<div class="container">
<h1>Basel AML Index: Adjust weights and compare rankings</h1>

<table id="weights-ui">
  <tr>
    <th>Category</th>
    <th>Indicator</th>
    <th>Weight within category (%)</th>
    <th>Weight within Overall score (%)</th>
  </tr>
  <tr class="fatf">
    <td rowspan="3">ML/TF</td>
    <td>fatf</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="fatf" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="fatf_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="fin-secrecy">
    <td>Financial Secrecy</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="fin_secrecy" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="fin_secrecy_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="us-incsr">
    <td>US INCSR</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="us_incsr" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="us_incsr_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="ti-cpi">
    <td>CORRUPTION RISK</td>
    <td>ti cpi</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="ti_cpi" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="ti_cpi_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="business-disclosure">
    <td rowspan="4">FINANCIAL TRANSPARENCY & STANDARDS</td>
    <td>WB Business disclosure</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="wb_business_disclosure" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="wb_business_disclosure_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="wef-gcr-auditing-and-reporting-std">
    <td>wef gcr auditing and reporting std</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="wef_auditing_and_reporting_std" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="wef_auditing_and_reporting_std_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="wef-gcr-security-exchange-regul">
    <td>wef gcr security exchange regulation</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="wef_security_exchange_reg" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="wef_security_exchange_reg_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="wb-fin-sector-regul">
    <td>WB fin.sector regulation</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="wb_fin_sector_reg" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="wb_fin_sector_reg_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="open-budget">
    <td rowspan="3">PUBLIC TRANSPARENCY & ACCCOUNTABILITY</td>
    <td>open budget</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="open_budget" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="open_budget_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="wb-transpar-account-corruption">
    <td>WB transparency, accountability, corruption</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="wb_transpar_account_corruption" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="wb_transpar_account_corruption_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="idea-political-disclosure">
    <td>IDEA political disclosure</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="idea_political_disclosure" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="idea_political_disclosure_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="wef-gcr-instit-strength">
    <td rowspan="3">POLITICAL & LEGAL RISK</td>
    <td>wef gcr institutional strength</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="wef_instit_strength" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="wef_instit_strength_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="rule-of-law">
    <td>rule of law</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="rule_of_law" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="rule_of_law_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="freedom-house">
    <td>Freedom house avg</td>
    <td class="cat-weight"><span class="TKAdjustableNumber" data-var="freedom_house" data-format="%.2f" data-min="0" data-max="100"></span></td>
    <td class="osc-weight"><span data-var="freedom_house_osc" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="ml-tf category">
    <td rowspan="5">CATEGORIES</td>
    <td>ML/TF</td>
    <td class="cat-weight"></td>
    <td class="osc-weight"><span class="TKAdjustableNumber" data-var="ML_TF" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="corruption-risk category">
    <td>CORRUPTION RISK</td>
    <td class="cat-weight"></td>
    <td class="osc-weight"><span class="TKAdjustableNumber" data-var="CORRUPTION_RISK" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="fin-transpar-std category">
    <td>FIN TRANSPARENCY & STD</td>
    <td class="cat-weight"></td>
    <td class="osc-weight"><span class="TKAdjustableNumber" data-var="FIN_TRANSPAR_STD" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="public-transpar-account category">
    <td>PUBLIC TRANSPARENCY & ACCOUNTABILITY</td>
    <td class="cat-weight"></td>
    <td class="osc-weight"><span class="TKAdjustableNumber" data-var="PUBLIC_TRANSPAR_ACCOUNT" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
  <tr class="political-legal-risk category">
    <td>POLITICAL & LEGAL RISK</td>
    <td class="cat-weight"></td>
    <td class="osc-weight"><span class="TKAdjustableNumber" data-var="POLITICAL_LEGAL_RISK" data-format="%.2f" data-min="0" data-max="100"></span></td>
  </tr>
</table>

<div class="btn-group">
  <button type="button" class="btn btn-default" id="update_ranking">Update ranking!</button>
  <button type="button" class="btn" id="reset">Reset</button>
</div>


<div id="display">
  <h2>Overall Score results</h2>
  <ul>
    <li><a href="#ranking_osc">Ranking by Overall Score</a></li>
    <li><a href="#ranking_country">Ranking by country</a></li>
    <li><a href="#comparison">Graphic comparison</a></li>
  </ul>
  <div id="ranking_osc">
    <table></table>
  </div>
  <div id="ranking_country">
    <table></table>
  </div>
  <div id="comparison">
    <div id="scatter">
    </div>
  </div>
</div>

</div>
</body>
</html> 